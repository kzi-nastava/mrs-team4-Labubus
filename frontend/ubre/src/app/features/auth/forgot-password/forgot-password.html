<div class="login-card">
  <h1 class="brand-logo">Forgot Password</h1>
  <p class="subtitle">Enter your email and we'll send you a link to reset your password.</p>

  <form [formGroup]="forgotForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label>Email</label>
      <div class="input-wrapper">
        <input
          type="email"
          formControlName="email"
          placeholder="Enter your email"
          [class.error-border]="isInvalid('email')"
        />
      </div>

      @if (isInvalid('email')) {
      <span class="error-text">Please enter a valid email address.</span>
      } @else {
      <span class="error-spacer"></span>
      }
    </div>
    <div style="text-align: center">
      <app-button
        width="250px"
        variant="filled"
        class="forgot-btn"
        type="submit"
        [disabled]="forgotForm.invalid"
      >
        Send Reset Link
      </app-button>
    </div>

    <div class="footer-link-container">
      <a href="/login" class="back-link">Back to Login</a>
    </div>
  </form>
</div>

@if (showSuccessModal) {
<app-modal
  class="cd-modal show"
  title="Email Sent!"
  [message]="'A password reset link has been sent to ' + forgotForm.get('email')?.value"
  buttonText="OK"
  (action)="onCdModalAction()"
>
</app-modal>
}
